"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[417],{6417:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(5043),o=s(2339),c=s(3216),n=s(6720),r=s(579);const l=()=>{const e=(0,c.Zp)(),[t,s]=(0,a.useState)(localStorage.getItem("questionType")?localStorage.getItem("questionType"):"mcq"),[l,i]=(0,a.useState)(""),[u,d]=(0,a.useState)(["","","",""]),[m,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[j,v]=(0,a.useState)(0);let x=localStorage.getItem("series");const b="http://16.171.41.223:8000/api/v1/",f=e=>{s(e)};(0,a.useEffect)((()=>{let t=localStorage.getItem("seriesId"),s=localStorage.getItem("token");s||e("/");const a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+s);const o={method:"GET",headers:a,redirect:"follow"};fetch("".concat(b,"getQuestionsSeriesWise?seriesId=").concat(t),o).then((e=>e.json())).then((e=>{console.log(e),e.type})).catch((e=>console.error(e)))}),[x,j]);const y=e=>t===e?"active-btn":"";return(0,r.jsx)("section",{className:"createtask_wrapper wrapper",children:(0,r.jsxs)("div",{className:"homepage-outer-div",children:[(0,r.jsx)("div",{className:"back-btn me-2",onClick:()=>{e("/updateQuestions")},children:(0,r.jsx)(n.cjW,{})}),x&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"test-box",children:[(0,r.jsxs)("div",{className:"internal-testbox",children:[(0,r.jsx)("button",{onClick:()=>f("mcq"),className:"mcq-btn ".concat(y("mcq")),children:"Objective"}),(0,r.jsx)("button",{onClick:()=>f("subjective"),className:"subjective-btn ".concat(y("subjective")),children:"Subjective"}),(0,r.jsx)("button",{onClick:()=>f("logical"),className:"logical-btn ".concat(y("logical")),children:"Logical"})]}),"mcq"===t&&(0,r.jsxs)("div",{className:"mcq-inputs",children:[(0,r.jsx)("input",{className:"mcq-question form-control mt-3",type:"text",placeholder:"Enter question",value:l,onChange:e=>i(e.target.value)}),u.map(((e,t)=>(0,r.jsx)("input",{className:"mcq-options form-control",type:"text",placeholder:"Option ".concat(t+1),value:e,onChange:e=>((e,t)=>{const s=[...u];s[e]=t,d(s)})(t,e.target.value)},t))),(0,r.jsx)("label",{className:"new_series_label",children:"Select correct answer:"}),(0,r.jsxs)("select",{className:"form-control mt-3",value:m,onChange:e=>p(parseInt(e.target.value)),children:[(0,r.jsx)("option",{defaultChecked:!0}),u.map(((e,t)=>(0,r.jsx)("option",{value:t+1,children:t+1},t)))]})]}),"subjective"===t&&(0,r.jsxs)("div",{className:"subjective-inputs",children:[(0,r.jsx)("input",{type:"text",className:"form-control mt-3",placeholder:"Enter subjective question",value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("textarea",{className:"testbox-textarea form-control mt-3",type:"text",placeholder:"Enter answer",value:h,onChange:e=>g(e.target.value)})]}),"logical"===t&&(0,r.jsxs)("div",{className:"logical-inputs mt-4",children:[(0,r.jsx)("textarea",{type:"text",className:"testbox-textarea-logical form-control mt-2",placeholder:"Enter logical question",value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("textarea",{className:"testbox-textarea form-control mt-4",type:"text",placeholder:"Enter answer",value:h,onChange:e=>g(e.target.value)})]}),t&&(0,r.jsx)("button",{onClick:s=>{if(s.preventDefault(),console.log("correct answer--",m),""===l)return void o.Ay.error("Please enter question.",{duration:1300});if("mcq"===t){if(u.filter((e=>""!==e.trim())).length<4)return void o.Ay.error("Please enter all four options",{duration:1300})}let a=localStorage.getItem("token"),c=localStorage.getItem("seriesId");const n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+a);const r={method:"POST",headers:n,body:JSON.stringify({question:l,options:u,correctAnswer:m,answer:h}),redirect:"follow"};switch(t){case"mcq":fetch("".concat(b,"addObjective?seriesId=").concat(c),r).then((e=>e.json())).then((t=>{console.log(t),"success"===t.type?(i(""),d(["","","",""]),p(""),v((e=>e+1)),e("/updateQuestions")):o.Ay.error(t.message)})).catch((e=>console.error(e)));break;case"subjective":fetch("".concat(b,"addSubjective?seriesId=").concat(c),r).then((e=>e.json())).then((t=>{console.log(t),"success"===t.type?(i(""),g(""),v((e=>e+1)),e("/updateQuestions")):o.Ay.error(t.message)})).catch((e=>console.error(e)));break;case"logical":fetch("".concat(b,"addLogical?seriesId=").concat(c),r).then((e=>e.json())).then((t=>{console.log(t),"success"===t.type?(i(""),g(""),v((e=>e+1)),e("/updateQuestions")):o.Ay.error(t.message)})).catch((e=>console.error(e)))}},className:"add-question-btn cmn_btn_color ",children:"Add Question"})]})}),(0,r.jsx)(o.l$,{})]})})}}}]);
//# sourceMappingURL=417.13c8bba2.chunk.js.map