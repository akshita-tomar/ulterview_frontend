"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[417],{6417:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(5043),c=a(2339),o=a(3216),n=a(6720),r=a(579);const l=()=>{const e=(0,o.Zp)(),[t,a]=(0,s.useState)(localStorage.getItem("questionType")?localStorage.getItem("questionType"):"mcq"),[l,i]=(0,s.useState)(""),[u,d]=(0,s.useState)(["","","",""]),[m,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[j,v]=(0,s.useState)(0);let x=localStorage.getItem("series");const b="http://16.171.41.223:8000/api/v1/",f=e=>{a(e)};(0,s.useEffect)((()=>{let t=localStorage.getItem("seriesId"),a=localStorage.getItem("token");a||e("/");const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+a);const c={method:"GET",headers:s,redirect:"follow"};fetch("".concat(b,"getQuestionsSeriesWise?seriesId=").concat(t),c).then((e=>e.json())).then((e=>{e.type})).catch((e=>console.error(e)))}),[x,j]);const y=e=>t===e?"active-btn":"";return(0,r.jsx)("section",{className:"createtask_wrapper wrapper",children:(0,r.jsxs)("div",{className:"homepage-outer-div",children:[(0,r.jsx)("div",{className:"back-btn me-2",onClick:()=>{e("/updateQuestions")},children:(0,r.jsx)(n.cjW,{})}),x&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"test-box",children:[(0,r.jsxs)("div",{className:"internal-testbox",children:[(0,r.jsx)("button",{onClick:()=>f("mcq"),className:"mcq-btn ".concat(y("mcq")),children:"Objective"}),(0,r.jsx)("button",{onClick:()=>f("subjective"),className:"subjective-btn ".concat(y("subjective")),children:"Subjective"}),(0,r.jsx)("button",{onClick:()=>f("logical"),className:"logical-btn ".concat(y("logical")),children:"Logical"})]}),"mcq"===t&&(0,r.jsxs)("div",{className:"mcq-inputs",children:[(0,r.jsx)("input",{className:"mcq-question form-control mt-3",type:"text",placeholder:"Enter question",value:l,onChange:e=>i(e.target.value)}),u.map(((e,t)=>(0,r.jsx)("input",{className:"mcq-options form-control",type:"text",placeholder:"Option ".concat(t+1),value:e,onChange:e=>((e,t)=>{const a=[...u];a[e]=t,d(a)})(t,e.target.value)},t))),(0,r.jsx)("label",{className:"new_series_label",children:"Select correct answer:"}),(0,r.jsxs)("select",{className:"form-control mt-3",value:m,onChange:e=>p(parseInt(e.target.value)),children:[(0,r.jsx)("option",{defaultChecked:!0}),u.map(((e,t)=>(0,r.jsx)("option",{value:t+1,children:t+1},t)))]})]}),"subjective"===t&&(0,r.jsxs)("div",{className:"subjective-inputs",children:[(0,r.jsx)("input",{type:"text",className:"form-control mt-3",placeholder:"Enter subjective question",value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("textarea",{className:"testbox-textarea form-control mt-3",type:"text",placeholder:"Enter answer",value:h,onChange:e=>g(e.target.value)})]}),"logical"===t&&(0,r.jsxs)("div",{className:"logical-inputs mt-4",children:[(0,r.jsx)("textarea",{type:"text",className:"testbox-textarea-logical form-control mt-2",placeholder:"Enter logical question",value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("textarea",{className:"testbox-textarea form-control mt-4",type:"text",placeholder:"Enter answer",value:h,onChange:e=>g(e.target.value)})]}),t&&(0,r.jsx)("button",{onClick:a=>{if(a.preventDefault(),""===l)return void c.Ay.error("Please enter question.",{duration:1300});if("mcq"===t){if(u.filter((e=>""!==e.trim())).length<4)return void c.Ay.error("Please enter all four options",{duration:1300})}let s=localStorage.getItem("token"),o=localStorage.getItem("seriesId");const n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+s);const r={method:"POST",headers:n,body:JSON.stringify({question:l,options:u,correctAnswer:m,answer:h}),redirect:"follow"};switch(t){case"mcq":fetch("".concat(b,"addObjective?seriesId=").concat(o),r).then((e=>e.json())).then((t=>{"success"===t.type?(i(""),d(["","","",""]),p(""),v((e=>e+1)),e("/updateQuestions")):c.Ay.error(t.message)})).catch((e=>console.error(e)));break;case"subjective":fetch("".concat(b,"addSubjective?seriesId=").concat(o),r).then((e=>e.json())).then((t=>{"success"===t.type?(i(""),g(""),v((e=>e+1)),e("/updateQuestions")):c.Ay.error(t.message)})).catch((e=>console.error(e)));break;case"logical":fetch("".concat(b,"addLogical?seriesId=").concat(o),r).then((e=>e.json())).then((t=>{"success"===t.type?(i(""),g(""),v((e=>e+1)),e("/updateQuestions")):c.Ay.error(t.message)})).catch((e=>console.error(e)))}},className:"add-question-btn cmn_btn_color ",children:"Add Question"})]})}),(0,r.jsx)(c.l$,{})]})})}}}]);
//# sourceMappingURL=417.8212ad37.chunk.js.map