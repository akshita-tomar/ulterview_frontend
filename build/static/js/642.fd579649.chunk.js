"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[642],{642:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(43),s=n(216),a=n(339),l=n(652),i=n(579);const c=()=>{var e,t,n,c,r,d,u,p,h,v,j,g;const x=(0,s.Zp)(),[m,b]=(0,o.useState)(0),[q,w]=(0,o.useState)([]),[f,y]=(0,o.useState)(""),[E,C]=(0,o.useState)(""),[N,T]=(0,o.useState)(),[A,k]=(0,o.useState)(["","","",""]);let S=localStorage.getItem("seriesId"),_=localStorage.getItem("token");const U="http://16.171.41.223:8000/api/v1/";(0,o.useEffect)((()=>{_||x("/");const e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+_);const t={method:"GET",headers:e,redirect:"follow"};fetch("".concat(U,"getQuestionsSeriesWise?seriesId=").concat(S),t).then((e=>e.json())).then((e=>{console.log(e),w(e)})).catch((e=>console.error(e)))}),[S,m]),console.log("questions ---",q);const D=(e,t)=>{console.log("type___-",e),console.log("id___",t);const n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+_);const o={method:"DELETE",headers:n,body:JSON.stringify({questionType:e}),redirect:"follow"};fetch("".concat(U,"DeleteQuestionAnswer?questionId=").concat(t),o).then((e=>e.json())).then((e=>{console.log(e),b((e=>e+1)),a.Ay.success(e.message)})).catch((e=>console.error(e)))};return(0,i.jsxs)("div",{className:"outer-edit-question-div",children:[(0,i.jsx)("div",{className:"back-btn",onClick:()=>{x("/create-task")},children:(0,i.jsx)(l.cjW,{})}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(e=q.questions)||void 0===e||null===(t=e.objective)||void 0===t?void 0:t.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Objective"}),null===q||void 0===q||null===(n=q.questions)||void 0===n||null===(c=n.objective)||void 0===c?void 0:c.map(((e,t)=>{var n,o;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{className:"mcq-question-edit",type:"text",placeholder:"Enter question",defaultValue:e.question,onChange:e=>y(e.target.value)}),null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.map(((e,t)=>(0,i.jsx)("input",{className:"mcq-options",type:"text",placeholder:"Option ".concat(t+1),defaultValue:e,onChange:e=>((e,t)=>{const n=[...A];n[e]=t,k(n)})(t,e.target.value)},t))),(0,i.jsx)("label",{children:"Select correct answer:"}),(0,i.jsx)("select",{defaultValue:e.correctAnswer,onChange:e=>T(parseInt(e.target.value)),children:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.map(((e,t)=>(0,i.jsx)("option",{value:t+1,children:t+1},t)))}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("objective",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>{e._id},children:"UPDATE"})]})}))]})," ",(0,i.jsx)("br",{}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(r=q.questions)||void 0===r||null===(d=r.subjective)||void 0===d?void 0:d.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Subjective"}),null===q||void 0===q||null===(u=q.questions)||void 0===u||null===(p=u.subjective)||void 0===p?void 0:p.map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{className:"mcq-question-edit",type:"text",placeholder:"Enter subjective question",defaultValue:e.question,onChange:e=>y(e.target.value)}),(0,i.jsx)("textarea",{className:"testbox-textarea",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>C(e.target.value)}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("subjective",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>((e,t,n,o)=>{const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+_);const l={method:"PUT",headers:s,body:JSON.stringify({questionType:e,answer:E||o,question:f||n,options:A,correctAnswer:N}),redirect:"follow"};fetch("".concat(U,"updateQuestionAnswer?questionId=").concat(t),l).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(b((e=>e+1)),y(""),C(""),T(),k(["","","",""]),a.Ay.success(e.message,{duration:1e3}))})).catch((e=>console.error(e)))})("subjective",e._id,e.question,e.answer),children:"UPDATE"})]})))]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(h=q.questions)||void 0===h||null===(v=h.logical)||void 0===v?void 0:v.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Logical"}),null===q||void 0===q||null===(j=q.questions)||void 0===j||null===(g=j.logical)||void 0===g?void 0:g.map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("textarea",{type:"text",className:"testbox-textarea-logical-edit",placeholder:"Enter logical question",defaultValue:e.question,onChange:e=>y(e.target.value)}),(0,i.jsx)("textarea",{className:"testbox-textarea",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>C(e.target.value)}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("logical",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>((e,t,n,o)=>{const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+_);const l={method:"PUT",headers:s,body:JSON.stringify({questionType:e,answer:E||o,question:f||n,options:A,correctAnswer:N}),redirect:"follow"};fetch("".concat(U,"updateQuestionAnswer?questionId=").concat(t),l).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(b((e=>e+1)),y(""),C(""),T(),k(["","","",""]),a.Ay.success(e.message,{duration:1e3}))})).catch((e=>console.error(e)))})("logical",e._id,e.question,e.answer),children:"UPDATE"})]})))]}),(0,i.jsx)(a.l$,{})]})}}}]);
//# sourceMappingURL=642.fd579649.chunk.js.map