"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[642],{5642:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var o=n(5043),s=n(3216),i=n(2339),l=n(3023),a=n.n(l),c=n(64),r=n.n(c),d=n(4842),u=n(579);const v=()=>{var e,t,n,l,c,v,h,p,m,g,j,b,x,f,q,y,w,_,N,C,T,S,A,E;const k=(0,s.Zp)(),[I,D]=(0,o.useState)(0),[U,B]=(0,o.useState)([]),[Q,V]=(0,o.useState)(""),[F,O]=(0,o.useState)(""),[P,z]=(0,o.useState)(),[H,L]=(0,o.useState)(["","","",""]),[J,Y]=(0,o.useState)(!0),[G,W]=(0,o.useState)(!1),[Z,$]=(0,o.useState)(!1);let K=localStorage.getItem("seriesId"),M=localStorage.getItem("token");const R="http://16.171.41.223:8000/api/v1/";(0,o.useEffect)((()=>{M||k("/");const e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+M);const t={method:"GET",headers:e,redirect:"follow"};fetch("".concat(R,"getQuestionsSeriesWise?seriesId=").concat(K),t).then((e=>e.json())).then((e=>{"No questions found"===e.message&&a()("This series is empty for now. You can add questions!","Thanks!","success"),B(e)})).catch((e=>console.error(e)))}),[K,I]);const X=(e,t)=>{r().fire({title:"Are you sure to delete this Question?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ce2128",cancelButtonColor:"#333",confirmButtonText:"Yes, delete it!"}).then((n=>{n.isConfirmed&&ee(e,t)}))},ee=(e,t)=>{const n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+M);const o={method:"DELETE",headers:n,body:JSON.stringify({questionType:e}),redirect:"follow"};fetch("".concat(R,"DeleteQuestionAnswer?questionId=").concat(t),o).then((e=>e.json())).then((e=>{D((e=>e+1)),i.Ay.success("Document delted successfully.")})).catch((e=>console.error(e)))},{show:te}=(0,d.U)();return(0,u.jsxs)("div",{className:"wrapper ".concat(te?"cmn_margin":""),children:[(0,u.jsxs)("div",{className:"cmn_container",children:[(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"add_question_wrapper",children:[(0,u.jsxs)("h1",{className:"heading",children:[localStorage.getItem("series")," (",localStorage.getItem("language"),") "]}),"  ",(0,u.jsx)("button",{className:"edit-series-button",onClick:()=>{k("/create-task")},children:"Add Question"})]}),(null===U||void 0===U||null===(e=U.questions)||void 0===e||null===(t=e.objective)||void 0===t?void 0:t.length)<3&&(null===U||void 0===U||null===(n=U.questions)||void 0===n||null===(l=n.subjective)||void 0===l?void 0:l.length)<2&&(null===U||void 0===U||null===(c=U.questions)||void 0===c||null===(v=c.logical)||void 0===v?void 0:v.length)<2?(0,u.jsx)("h6",{className:"message",children:" Your have to add minimum 3 objective, 2 subjective and 2 logical to complete this series"}):null,(0,u.jsxs)("div",{className:"sub-obj-log-heading",children:[(null===U||void 0===U||null===(h=U.questions)||void 0===h||null===(p=h.objective)||void 0===p?void 0:p.length)>0&&(0,u.jsxs)("div",{onClick:()=>{localStorage.setItem("questionType","mcq"),W(!1),$(!1),Y(!0)},className:"heading-objective_tab ".concat(!0===J?"heading-objective-active ":"heading-objective"),children:["Objective ",null===U||void 0===U||null===(m=U.questions)||void 0===m||null===(g=m.objective)||void 0===g?void 0:g.length]}),(null===U||void 0===U||null===(j=U.questions)||void 0===j||null===(b=j.subjective)||void 0===b?void 0:b.length)>0&&(0,u.jsxs)("div",{className:"heading-objective_tab ".concat(!0===G?"heading-objective-active":"heading-objective"),onClick:()=>{localStorage.setItem("questionType","subjective"),$(!1),Y(!1),W(!0)},children:["Subjective ",null===U||void 0===U||null===(x=U.questions)||void 0===x||null===(f=x.subjective)||void 0===f?void 0:f.length]}),(null===U||void 0===U||null===(q=U.questions)||void 0===q||null===(y=q.logical)||void 0===y?void 0:y.length)>0&&(0,u.jsxs)("div",{className:"heading-objective_tab ".concat(!0===Z?"heading-objective-active":"heading-objective"),onClick:()=>{localStorage.setItem("questionType","logical"),Y(!1),W(!1),$(!0)},children:["Logical ",null===U||void 0===U||null===(w=U.questions)||void 0===w||null===(_=w.logical)||void 0===_?void 0:_.length]})]}),J&&(null===U||void 0===U||null===(N=U.questions)||void 0===N||null===(C=N.objective)||void 0===C?void 0:C.map(((e,t)=>{var n,o;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{className:"mcq-question-edit form-control",type:"text",placeholder:"Enter question",defaultValue:e.question,onChange:e=>V(e.target.value)}),null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.map(((t,n)=>(0,u.jsx)("input",{className:"mcq-options form-control mt-4",type:"text",placeholder:"Option ".concat(n+1),defaultValue:t,onChange:t=>((e,t,n)=>{n[e]=t,L(n)})(n,t.target.value,null===e||void 0===e?void 0:e.options)},n))),(0,u.jsxs)("div",{className:"correct_ans_outer d-flex gap-3 align-items-center justify-content-center",children:[(0,u.jsx)("label",{className:"cmn_text",children:"Select correct answer:"}),(0,u.jsx)("select",{defaultValue:e.correctAnswer,onChange:e=>z(parseInt(e.target.value)),children:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.map(((e,t)=>(0,u.jsx)("option",{value:t+1,children:t+1},t)))})]}),(0,u.jsxs)("div",{className:"Update_btn_outer",children:[(0,u.jsx)("button",{className:" cmn_btn_color me-3",onClick:()=>X("objective",e._id),children:"DELETE"}),(0,u.jsx)("button",{className:"cmn_gray_btn",onClick:()=>((e,t,n,o,s)=>{const l=new Headers;l.append("Content-Type","application/json"),l.append("Authorization","Bearer "+M);const a=H.filter((e=>""!==e.trim())),c={method:"PUT",headers:l,body:JSON.stringify({questionType:e,question:Q||n,options:a.length>0?a:o,correctAnswer:P||s}),redirect:"follow"};fetch("".concat(R,"updateQuestionAnswer?questionId=").concat(t),c).then((e=>e.json())).then((e=>{"success"===e.type?(D((e=>e+1)),V(""),O(""),z(),L(["","","",""]),i.Ay.success("Document updated successfully.",{duration:1e3})):i.Ay.error(e.message)})).catch((e=>console.error(e)))})("objective",e._id,e.question,null===e||void 0===e?void 0:e.options,e.correctAnswer),children:"UPDATE"})]})]})})))]}),(0,u.jsx)(u.Fragment,{children:G&&(null===U||void 0===U||null===(T=U.questions)||void 0===T||null===(S=T.subjective)||void 0===S?void 0:S.map(((e,t)=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{className:"mcq-question-edit form-control",type:"text",placeholder:"Enter subjective question",defaultValue:e.question,onChange:e=>V(e.target.value)}),(0,u.jsx)("textarea",{className:"testbox-textarea form-control mt-4",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>O(e.target.value)}),(0,u.jsxs)("div",{className:"Update_btn_outer mt-4",children:[(0,u.jsx)("button",{className:"cmn_btn_color me-3",onClick:()=>X("subjective",e._id),children:"DELETE"}),(0,u.jsx)("button",{className:"cmn_gray_btn",onClick:()=>((e,t,n,o)=>{const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+M);const l={method:"PUT",headers:s,body:JSON.stringify({questionType:e,answer:F||o,question:Q||n}),redirect:"follow"};fetch("".concat(R,"updateQuestionAnswer?questionId=").concat(t),l).then((e=>e.json())).then((e=>{"success"===e.type&&(D((e=>e+1)),V(""),O(""),z(),L(["","","",""]),i.Ay.success("Document updated successfully.",{duration:1e3}))})).catch((e=>console.error(e)))})("subjective",e._id,e.question,e.answer),children:"UPDATE"})]})]}))))}),(0,u.jsx)(u.Fragment,{children:Z&&(null===U||void 0===U||null===(A=U.questions)||void 0===A||null===(E=A.logical)||void 0===E?void 0:E.map(((e,t)=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("textarea",{type:"text",className:"testbox-textarea-logical-edit form-control",placeholder:"Enter logical question",defaultValue:e.question,onChange:e=>V(e.target.value)}),(0,u.jsx)("textarea",{className:"testbox-textarea form-control mt-4",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>O(e.target.value)}),(0,u.jsxs)("div",{className:"Update_btn_outer mt-4",children:[(0,u.jsx)("button",{className:"cmn_btn_color me-3",onClick:()=>X("logical",e._id),children:"DELETE"}),(0,u.jsx)("button",{className:"cmn_gray_btn ",onClick:()=>((e,t,n,o)=>{const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+M);const l={method:"PUT",headers:s,body:JSON.stringify({questionType:e,answer:F||o,question:Q||n}),redirect:"follow"};fetch("".concat(R,"updateQuestionAnswer?questionId=").concat(t),l).then((e=>e.json())).then((e=>{"success"===e.type&&(D((e=>e+1)),V(""),O(""),z(),L(["","","",""]),i.Ay.success("Doucument updated successfully.",{duration:1e3}))})).catch((e=>console.error(e)))})("logical",e._id,e.question,e.answer),children:"UPDATE"})]})]}))))})]}),(0,u.jsx)(i.l$,{})]})}}}]);
//# sourceMappingURL=642.75eba755.chunk.js.map