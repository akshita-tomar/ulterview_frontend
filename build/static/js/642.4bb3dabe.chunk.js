"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[642],{642:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(43),s=n(216),l=n(339),a=n(652),i=n(579);const c=()=>{var e,t,n,c,r,d,u,p,h,v,j,g;const x=(0,s.Zp)(),[b,m]=(0,o.useState)(0),[q,w]=(0,o.useState)([]),[f,E]=(0,o.useState)(""),[y,C]=(0,o.useState)(""),[N,T]=(0,o.useState)(),[k,_]=(0,o.useState)(["","","",""]);let S=localStorage.getItem("seriesId"),A=localStorage.getItem("token");(0,o.useEffect)((()=>{A||x("/");const e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+A);const t={method:"GET",headers:e,redirect:"follow"};fetch("http://localhost:8000/api/v1/getQuestionsSeriesWise?seriesId=".concat(S),t).then((e=>e.json())).then((e=>{console.log(e),w(e)})).catch((e=>console.error(e)))}),[S,b]),console.log("questions ---",q);const U=(e,t)=>{console.log("type___-",e),console.log("id___",t);const n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+A);const o={method:"DELETE",headers:n,body:JSON.stringify({questionType:e}),redirect:"follow"};fetch("http://localhost:8000/api/v1/DeleteQuestionAnswer?questionId=".concat(t),o).then((e=>e.json())).then((e=>{console.log(e),m((e=>e+1)),l.Ay.success(e.message)})).catch((e=>console.error(e)))},D=(e,t,n,o)=>{console.log("updatedQuestion ----",n,"answer----",o),setTimeout((()=>{console.log(e,t);const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+A);const a={method:"PUT",headers:s,body:JSON.stringify({questionType:e,answer:y||o,question:f||n,options:k,correctAnswer:N}),redirect:"follow"};fetch("http://localhost:8000/api/v1/updateQuestionAnswer?questionId=".concat(t),a).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(m((e=>e+1)),E(""),C(""),T(),_(["","","",""]),l.Ay.success(e.message,{duration:1e3}))})).catch((e=>console.error(e)))}),500)};return(0,i.jsxs)("div",{className:"outer-edit-question-div",children:[(0,i.jsx)("div",{className:"back-btn",onClick:()=>{x("/create-task")},children:(0,i.jsx)(a.cjW,{})}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(e=q.questions)||void 0===e||null===(t=e.objective)||void 0===t?void 0:t.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Objective"}),null===q||void 0===q||null===(n=q.questions)||void 0===n||null===(c=n.objective)||void 0===c?void 0:c.map(((e,t)=>{var n,o;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{className:"mcq-question-edit",type:"text",placeholder:"Enter question",defaultValue:e.question,onChange:e=>E(e.target.value)}),null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.map(((e,t)=>(0,i.jsx)("input",{className:"mcq-options",type:"text",placeholder:"Option ".concat(t+1),defaultValue:e,onChange:e=>((e,t)=>{const n=[...k];n[e]=t,_(n)})(t,e.target.value)},t))),(0,i.jsx)("label",{children:"Select correct answer:"}),(0,i.jsx)("select",{defaultValue:e.correctAnswer,onChange:e=>T(parseInt(e.target.value)),children:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.map(((e,t)=>(0,i.jsx)("option",{value:t+1,children:t+1},t)))}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>U("objective",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("objective",e._id),children:"UPDATE"})]})}))]})," ",(0,i.jsx)("br",{}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(r=q.questions)||void 0===r||null===(d=r.subjective)||void 0===d?void 0:d.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Subjective"}),null===q||void 0===q||null===(u=q.questions)||void 0===u||null===(p=u.subjective)||void 0===p?void 0:p.map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:['console.log("subjective----",',e.answer,")",(0,i.jsx)("input",{className:"mcq-question-edit",type:"text",placeholder:"Enter subjective question",defaultValue:e.question,onChange:e=>E(e.target.value)}),(0,i.jsx)("textarea",{className:"testbox-textarea",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>C(e.target.value)}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>U("subjective",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("subjective",e._id,e.question,e.answer),children:"UPDATE"})]})))]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)(i.Fragment,{children:[(null===q||void 0===q||null===(h=q.questions)||void 0===h||null===(v=h.logical)||void 0===v?void 0:v.length)>0&&(0,i.jsx)("div",{className:"heading-objective",children:"Logical"}),null===q||void 0===q||null===(j=q.questions)||void 0===j||null===(g=j.logical)||void 0===g?void 0:g.map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("textarea",{type:"text",className:"testbox-textarea-logical-edit",placeholder:"Enter logical question",defaultValue:e.question,onChange:e=>E(e.target.value)}),(0,i.jsx)("textarea",{className:"testbox-textarea",type:"text",placeholder:"Enter answer",defaultValue:e.answer,onChange:e=>C(e.target.value)}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>U("logical",e._id),children:"DELETE"}),(0,i.jsx)("button",{className:"Update-btn",onClick:()=>D("logical",e._id),children:"UPDATE"})]})))]}),(0,i.jsx)(l.l$,{})]})}}}]);
//# sourceMappingURL=642.4bb3dabe.chunk.js.map