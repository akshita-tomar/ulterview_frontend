"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[121],{242:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(5043),s=n(4282),o=n(7451),r=n(2339),c=n(3216),d=n(885),i=n(1833),l=n(579);const u=e=>{let t=localStorage.getItem("token");const n=(0,c.Zp)();let u="http://localhost:8000/api/v1/";const[h,p]=(0,a.useState)([]),[g,m]=(0,a.useState)(""),[x,f]=(0,a.useState)({series:"",id:""}),[j,v]=(0,a.useState)(!1);let y=e.candidateID,b=e.languageId;(0,a.useEffect)((()=>{const e=new Headers;e.append("Authorization","Bearer "+t);const n={method:"GET",headers:e,redirect:"follow"};fetch("".concat(u,"getSingleCandidate?candidateId=").concat(y),n).then((e=>e.json())).then((e=>{"success"===e.type&&(m(e.isCandidateExist.profile),"completed"!==e.isCandidateExist.testStatus&&"invite_accepted"!==e.isCandidateExist.testStatus&&"invite_sent"!==e.isCandidateExist.testStatus||S())})).catch((e=>console.error(e)))}),[]);const S=()=>{const e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t);const n={method:"POST",headers:e,body:JSON.stringify({candidateId:y}),redirect:"follow"};fetch("".concat(u,"handleResendLink"),n).then((e=>e.json())).then((e=>console.log(e))).catch((e=>console.error(e)))};(0,a.useEffect)((()=>{t||n("/");const e=new Headers;e.append("Authorization","Bearer "+t);const a={method:"GET",headers:e,redirect:"follow"};fetch("".concat(u,"getAllSeries?languageId=").concat(b),a).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type?e.allSeries.length<1?r.Ay.error("No series is created for this language.",{duration:1e3}):p(e.allSeries):r.Ay.error(e.message)})).catch((e=>console.error(e)))}),[]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.A,{...e,size:"md","aria-labelledby":"contained-modal-title-vcenter Invite_candidate_modal",centered:!0,children:[(0,l.jsx)(o.A.Header,{closeButton:!0,children:(0,l.jsx)(o.A.Title,{id:"contained-modal-title-vcenter heading",children:"Invite"})}),(0,l.jsxs)(o.A.Body,{children:[(0,l.jsx)("div",{className:"loader_outer_wrapper",children:j&&(0,l.jsx)("img",{src:i,height:"50px",width:"50px"})}),(0,l.jsx)("input",{value:g,className:"candidate-register-input  form-control mt-3"}),(0,l.jsxs)("select",{className:"candidate-register-input form-control mt-3",onChange:e=>{const t=e.target.options.selectedIndex,n=e.target.options[t].text,a=e.target.value;f({language:n,id:a})},children:[(0,l.jsx)("option",{value:"",children:"Select series"}),null===h||void 0===h?void 0:h.map((e=>(0,l.jsxs)("option",{disabled:"pending"===e.status,className:"pending"===e.status?"series-outer-box-pending":"series-outer-box",value:e._id,children:[e.seriesName,"(",e.status,")"]},e._id)))]})]}),(0,l.jsx)(o.A.Footer,{children:(0,l.jsx)(s.A,{className:"cmn_btn_color",onClick:()=>{const n=new Headers;n.append("Authorization","Bearer "+t);const a={method:"POST",headers:n,redirect:"follow"};fetch("".concat(u,"sendInterviewLink?candidateId=").concat(y,"&seriesId=").concat(x.id),a).then((e=>e.json())).then((n=>{if(console.log(n),"success"===n.type){const n=(0,d.r)(y),a="http://localhost:3000/interview-questions/:".concat(encodeURIComponent(n));v(!0),console.log("link----",a);const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+t);const o={method:"POST",headers:s,body:JSON.stringify({link:a}),redirect:"follow"};fetch("".concat(u,"sendLinkViaEmail?candidateId=").concat(y),o).then((e=>e.json())).then((t=>{console.log(t),"success"===t.type&&(r.Ay.success(t.message),e.handleChange((e=>e+1)),e.onHide(!1),v(!1))})).catch((e=>console.error(e)))}else"Series Id not present."===n.message?r.Ay.error("Please select series."):r.Ay.error(n.message)})).catch((e=>console.error(e)))},children:"Send link"})})]}),(0,l.jsx)(r.l$,{})]})}},4121:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(5043),s=n(3216),o=n(4196),r=n(8387),c=n(8318),d=n(242),i=n(64),l=n.n(i),u=n(6720),h=n(2339),p=n(5749),g=n(4842),m=n(579);const x=()=>{const e=localStorage.getItem("token"),t=(0,s.Zp)(),[n,i]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[S,C]=(0,a.useState)(""),[A,w]=(0,a.useState)(""),[N,I]=(0,a.useState)(0),_="http://localhost:8000/api/v1/",E=(0,p.io)("http://localhost:8000");e||t("/"),(0,a.useEffect)((()=>{const t=()=>{const t=new Headers;t.append("Authorization","Bearer "+e);const n={method:"GET",headers:t,redirect:"follow"};fetch("".concat(_,"getCandidates"),n).then((e=>e.json())).then((e=>{i(e.allCandidates)})).catch((e=>console.error(e)))};return t(),E.on("Interview_submitted",(()=>{console.log("here in the socket-----"),t()})),()=>{E.disconnect()}}),[e,_,N]);const k=t=>{const n=new Headers;n.append("Authorization","Bearer "+e);const a={method:"DELETE",headers:n,redirect:"follow"};fetch("".concat(_,"deleteCandidate?candidateId=").concat(t),a).then((e=>e.json())).then((e=>{"success"===e.type&&(h.Ay.success(e.message,{duration:800}),I((e=>e+1)))})).catch((e=>console.error(e)))},B=(e,t)=>{C(e),w(t),b(!0)},{show:H}=(0,g.U)();return(0,m.jsxs)("div",{className:"wrapper ".concat(H?"cmn_margin":""," "),children:[(0,m.jsx)("div",{className:"text-end mb-3 pe-3",children:(0,m.jsx)("button",{className:"register-btn",onClick:()=>f(!0),children:"Register"})}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)(o.A,{striped:!0,bordered:!0,hover:!0,className:"user-table candidate_entry_table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Sr.no"}),(0,m.jsx)("th",{children:"Username"}),(0,m.jsx)("th",{children:"Email"}),(0,m.jsx)("th",{children:"Profile"}),(0,m.jsx)("th",{children:"Experience"}),(0,m.jsx)("th",{children:"Test status"}),(0,m.jsx)("th",{children:"Result Status"}),(0,m.jsx)("th",{children:"Invite"})]})}),(0,m.jsx)("tbody",{children:n.map(((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:t+1}),(0,m.jsx)("td",{children:e.username}),(0,m.jsx)("td",{children:e.email}),(0,m.jsx)("td",{children:e.profile}),(0,m.jsx)("td",{children:e.experience}),(0,m.jsx)("td",{children:e.testStatus}),(0,m.jsx)("td",{className:"rejected"===e.resultStatus?"rejected-candidate":"selected"===e.resultStatus?"selected-candidate":"",children:e.resultStatus}),(0,m.jsxs)("td",{children:["completed"===e.testStatus||"invite_sent"===e.testStatus||"invite_accepted"===e.testStatus?(0,m.jsx)("button",{className:"invite_btn",onClick:()=>B(e._id,e.languageId),children:"Resend"}):(0,m.jsx)("button",{className:"invite_btn",onClick:()=>B(e._id,e.languageId),children:"Invite"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(u.Yvo,{className:"MdEdit cursor-pointer me-2",onClick:()=>{return t=e._id,C(t),void v(!0);var t}}),(0,m.jsx)(u.b6i,{className:"cursor-pointer MdEdit",onClick:()=>{return t=e._id,void l().fire({title:"Are you sure to delete this Candidate?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ce2128",cancelButtonColor:"#333",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&k(t)}));var t}})]})]})]},t)))})]})}),x&&(0,m.jsx)(r.default,{show:x,onHide:()=>f(!1),handleChange:I}),j&&(0,m.jsx)(c.default,{show:j,onHide:()=>v(!1),candidateId:S,handleChange:I}),y&&(0,m.jsx)(d.default,{show:y,onHide:()=>b(!1),candidateID:S,languageId:A,handleChange:I}),(0,m.jsx)(h.l$,{})]})}},8387:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(5043),s=n(4282),o=n(7451),r=n(2339),c=n(579);const d=e=>{let t=localStorage.getItem("token"),n="http://localhost:8000/api/v1/";const[d,i]=(0,a.useState)(""),[l,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[g,m]=(0,a.useState)([]),[x,f]=(0,a.useState)({language:"",id:""});(0,a.useEffect)((()=>{const e=new Headers;e.append("Authorization","Bearer "+t);const a={method:"GET",headers:e,redirect:"follow"};fetch("".concat(n,"getAllLanguages"),a).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&m(e.data)})).catch((e=>console.error(e)))}),[]);return(0,c.jsxs)("div",{children:[(0,c.jsxs)(o.A,{...e,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(o.A.Header,{closeButton:!0,children:(0,c.jsx)(o.A.Title,{id:"contained-modal-title-vcenter ",className:"heading",children:"Register Candidate"})}),(0,c.jsxs)(o.A.Body,{children:[(0,c.jsx)("input",{className:"candidate-register-input form-control mt-2",placeholder:"Enter candidate name",value:d,onChange:e=>i(e.target.value)}),(0,c.jsx)("input",{className:"candidate-register-input form-control mt-2",placeholder:"Enter candidate email",value:l,onChange:e=>u(e.target.value)}),(0,c.jsxs)("select",{className:"candidate-register-input form-control mt-2",onChange:e=>{const t=e.target.options.selectedIndex,n=e.target.options[t].text,a=e.target.value;f({language:n,id:a})},children:[(0,c.jsx)("option",{value:"",children:"Select profile"}),null===g||void 0===g?void 0:g.map((e=>(0,c.jsx)("option",{value:e._id,children:e.language},e._id)))]}),(0,c.jsx)("input",{className:"candidate-register-input form-control mt-2",placeholder:"Enter total experience",value:h,onChange:e=>p(e.target.value)})]}),(0,c.jsx)(o.A.Footer,{children:(0,c.jsx)(s.A,{onClick:()=>{const a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+t);const s={method:"POST",headers:a,body:JSON.stringify({username:d,email:l,profile:x.language,experience:h,languageId:x.id}),redirect:"follow"};fetch("".concat(n,"registerCandidate"),s).then((e=>e.json())).then((t=>{console.log("result---",t),"error"===t.type&&r.Ay.error(t.message,{duration:1e3}),"success"===t.type&&(r.Ay.success(t.message,{duration:1e3}),i(""),u(""),p(""),e.handleChange((e=>e+1)),e.onHide(!1))})).catch((e=>console.error(e)))},className:"cmn_btn_color",children:"Submit"})})]}),(0,c.jsx)(r.l$,{})]})}},8318:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(5043),s=n(4282),o=n(7451),r=n(2339),c=n(579);const d=e=>{const[t,n]=(0,a.useState)([]),[d,i]=(0,a.useState)(""),[l,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[g,m]=(0,a.useState)([]),[x,f]=(0,a.useState)({language:"",id:""}),j=localStorage.getItem("token");let v=e.candidateId,y="http://localhost:8000/api/v1/";(0,a.useEffect)((()=>{const e=new Headers;e.append("Authorization","Bearer "+j);const t={method:"GET",headers:e,redirect:"follow"};fetch("".concat(y,"getAllLanguages"),t).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&m(e.data)})).catch((e=>console.error(e)))}),[]),(0,a.useEffect)((()=>{const e=new Headers;e.append("Authorization","Bearer "+j);const t={method:"GET",headers:e,redirect:"follow"};fetch("".concat(y,"getSingleCandidate?candidateId=").concat(v),t).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&n(e.isCandidateExist)})).catch((e=>console.error(e)))}),[v]);return(0,c.jsxs)("div",{children:[(0,c.jsxs)(o.A,{...e,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(o.A.Header,{closeButton:!0,children:(0,c.jsx)(o.A.Title,{id:"contained-modal-title-vcenter heading",children:"Update Candidate"})}),(0,c.jsxs)(o.A.Body,{children:[(0,c.jsx)("input",{className:"candidate-register-input mt-3 form-control",placeholder:"Enter candidate name",defaultValue:t.username,onChange:e=>i(e.target.value)}),(0,c.jsx)("input",{className:"candidate-register-input mt-3 form-control",placeholder:"Enter candidate email",defaultValue:t.email,onChange:e=>u(e.target.value)}),(0,c.jsx)("select",{className:"candidate-register-input mt-3 form-control",defaultValue:t.profile,onChange:e=>{const t=e.target.options.selectedIndex,n=e.target.options[t].text,a=e.target.value;f({language:n,id:a})},children:null===g||void 0===g?void 0:g.map((e=>(0,c.jsx)("option",{value:e._id,children:e.language},e._id)))}),(0,c.jsx)("input",{className:"candidate-register-input mt-3 form-control",placeholder:"Enter total experience",defaultValue:t.experience,onChange:e=>p(e.target.value)})]}),(0,c.jsx)(o.A.Footer,{children:(0,c.jsx)(s.A,{className:"cmn_btn_color",onClick:()=>(n=>{const a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+j);const s={method:"PUT",headers:a,body:JSON.stringify({username:d||t.username,email:l||t.email,profile:x.language?x.language:t.profile,experience:h||t.experience,languageId:x.id?x.id:t.languageId}),redirect:"follow"};fetch("".concat(y,"updateCandidate?candidateId=").concat(n),s).then((e=>e.json())).then((t=>{console.log(t),"success"===t.type&&(r.Ay.success(t.message,{duration:700}),e.handleChange((e=>e+1)),e.onHide(!1)),"error"===t.message&&r.Ay.error(t.message)})).catch((e=>console.error(e)))})(t._id),children:"Update"})})]}),(0,c.jsx)(r.l$,{})]})}},885:(e,t,n)=>{n.d(t,{r:()=>r,x:()=>c});var a=n(8698),s=n.n(a);const o="your-secret-key",r=e=>{try{return s().encrypt(o,e)}catch(t){return console.error("Encryption error:",t),null}},c=e=>{try{return s().decrypt(o,e)}catch(t){return console.error("Decryption error:",t),null}}},4140:(e,t,n)=>{n.d(t,{Am:()=>r,Ay:()=>d});var a=n(5043),s=n(579);const o=["as","disabled"];function r(e){let{tagName:t,disabled:n,href:a,target:s,rel:o,role:r,onClick:c,tabIndex:d=0,type:i}=e;t||(t=null!=a||null!=s||null!=o?"a":"button");const l={tagName:t};if("button"===t)return[{type:i||"button",disabled:n},l];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==c||c(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:n?void 0:d,href:a,target:"a"===t?s:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},l]}const c=a.forwardRef(((e,t)=>{let{as:n,disabled:a}=e,c=function(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,o);const[d,{tagName:i}]=r(Object.assign({tagName:n,disabled:a},c));return(0,s.jsx)(i,Object.assign({},c,d,{ref:t}))}));c.displayName="Button";const d=c},4282:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(8139),s=n.n(a),o=n(5043),r=n(4140),c=n(7852),d=n(579);const i=o.forwardRef(((e,t)=>{let{as:n,bsPrefix:a,variant:o="primary",size:i,active:l=!1,disabled:u=!1,className:h,...p}=e;const g=(0,c.oU)(a,"btn"),[m,{tagName:x}]=(0,r.Am)({tagName:n,disabled:u,...p}),f=x;return(0,d.jsx)(f,{...m,...p,ref:t,disabled:u,className:s()(h,g,l&&"active",o&&"".concat(g,"-").concat(o),i&&"".concat(g,"-").concat(i),p.href&&u&&"disabled")})}));i.displayName="Button";const l=i}}]);
//# sourceMappingURL=121.69724fb4.chunk.js.map