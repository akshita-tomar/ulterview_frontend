"use strict";(self.webpackChunkulterview_frontend=self.webpackChunkulterview_frontend||[]).push([[164],{164:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(43),o=t(216),n=t(339),l=t(652),r=t(23),c=t.n(r),i=t(579);const d=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[j,x]=(0,a.useState)([]),[v,S]=(0,a.useState)(""),[f,N]=(0,a.useState)(!1),[y,k]=(0,a.useState)(0),[C,w]=(0,a.useState)(!1),[A,b]=(0,a.useState)(""),[I,T]=(0,a.useState)(""),[z,B]=(0,a.useState)(!1),[E,H]=(0,a.useState)(""),[O,_]=(0,a.useState)(0),[L,P]=(0,a.useState)(!1),[J,U]=(0,a.useState)(""),[$,F]=(0,a.useState)(""),D=(0,o.Zp)();(0,a.useEffect)((()=>{let e=localStorage.getItem("token");const s=new Headers;s.append("Authorization","Bearer "+e);fetch("http://localhost:8000/api/v1/getAllSeries",{method:"GET",headers:s,redirect:"follow"}).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&x(e.allSeries)})).catch((e=>console.error(e)))}),[O]),(0,a.useEffect)((()=>{G()}),[y]);const G=()=>{let e=localStorage.getItem("token");e||D("/"),S(""),N(!0);const t=new Headers;t.append("Authorization","Bearer "+e);fetch("http://localhost:8000/api/v1/getAllLanguages",{method:"GET",headers:t,redirect:"follow"}).then((e=>e.json())).then((e=>{s(e.data),r(!0)})).catch((e=>console.error(e)))};let V=localStorage.getItem("token");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sidebar",children:[(0,i.jsx)("button",{className:"sidebar-button",onClick:G,children:"Questionnaire"}),(0,i.jsx)(n.l$,{})]}),f&&(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"language-modal",children:[e.map((e=>(0,i.jsxs)("div",{className:"language-card",children:[(0,i.jsxs)("div",{className:"card-inner",children:[(0,i.jsx)(l.Yvo,{onClick:()=>((e,s)=>{T(s),b(e),w(!0),r(!1)})(e._id,e.language)})," ",(0,i.jsx)(l.b6i,{onClick:()=>(e=>{console.log("id---\x3e",e);let s=localStorage.getItem("token");s||D("/");const t=new Headers;t.append("Authorization","Bearer "+s);const a={method:"POST",headers:t,redirect:"follow"};fetch("http://localhost:8000/api/v1/deleteLanguage?languageId=".concat(e),a).then((e=>e.json())).then((e=>{console.log(e),"error"===e.type?n.Ay.error(e.message):(k((e=>e+1)),c()("language deleted successfully!","","success"))})).catch((e=>console.error(e)))})(e._id)})," "]}),(0,i.jsxs)("div",{className:"text-space",onClick:()=>(e=>{let s=e;localStorage.setItem("language",e);let t=localStorage.getItem("token");t||D("/");const a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+t);const o=JSON.stringify({language:s});fetch("http://localhost:8000/api/v1/UpdateUserLanguage",{method:"POST",headers:a,body:o,redirect:"follow"}).then((e=>e.json())).then((e=>{"error"===e.type?n.Ay.error(e.message):(r(!1),m(!0))})).catch((e=>console.error(e)))})(e.language),children:[" ",e.language]})]},e.id))),(0,i.jsx)("button",{className:"add-more-languages-btn",onClick:()=>{r(!1),h(!0)},children:"Add new"})]})}),d&&(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h3",{children:"Add another language"})}),(0,i.jsx)("div",{className:"cross-sign",onClick:()=>{h(!1),r(!0)},children:"  \u2715"}),(0,i.jsxs)("div",{className:"input-field",children:[(0,i.jsx)("input",{type:"text",placeholder:"language",onChange:e=>p(e.target.value)}),(0,i.jsx)("button",{onClick:async e=>{e.preventDefault();let s=localStorage.getItem("token");const t=new Headers;t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+s);const a=JSON.stringify({language:g});fetch("http://localhost:8000/api/v1/addLanguage",{method:"POST",headers:t,body:a,redirect:"follow"}).then((e=>e.json())).then((e=>{console.log(e),"error"===e.type?n.Ay.error(e.message,{duration:1e3}):(h(!1),G())})).catch((e=>console.error(e)))},children:"Add"})]}),(0,i.jsx)(n.l$,{})]})}),u&&(0,i.jsx)("div",{className:"series-modal-overlay",children:(0,i.jsxs)("div",{className:"series-modal",children:[(0,i.jsx)("div",{className:"close-series",onClick:()=>{m(!1),r(!0)},children:" \u2715"}),(0,i.jsx)("div",{className:"modal-header",children:(0,i.jsx)("h3",{children:"Select Series"})}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("div",{className:"series-option-new",onClick:()=>{B(!0)},children:"Add new series"}),j.map(((e,s)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"series-outer-box",children:[(0,i.jsx)(l.Yvo,{onClick:()=>((e,s)=>{console.log("series name ------",e),U(s),S(e),P(!0)})(e.seriesName,e._id)})," ",(0,i.jsx)(l.b6i,{onClick:()=>((e,s)=>{let t=localStorage.getItem("token");const a=new Headers;a.append("Authorization","Bearer "+t);const o={method:"DELETE",headers:a,redirect:"follow"};fetch("http://localhost:8000/api/v1/deleteSeries?seriesId=".concat(e),o).then((e=>e.json())).then((e=>{console.log(e),_((e=>e+1)),c()(s+" deleted successfully!","","success")})).catch((e=>console.error(e)))})(e._id,e.seriesName)}),(0,i.jsxs)("div",{className:"series-option",onClick:()=>(e=>{const s=new Headers;s.append("Authorization","Bearer "+V);const t={method:"GET",headers:s,redirect:"follow"};fetch("http://localhost:8000/api/v1/getSeries?seriesId=".concat(e),t).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(localStorage.setItem("series",e.series.seriesName),localStorage.setItem("seriesId",e.series._id),S(e.series.seriesName),m(!1),r(!1),D("/create-task"))})).catch((e=>console.error(e)))})(e._id),children:[" ",e.seriesName]},s)]})," ",(0,i.jsx)("br",{})]})))]})]})}),z&&(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h3",{children:"Add Series"})}),(0,i.jsx)("div",{className:"cross-sign",onClick:()=>{B(!1)},children:"  \u2715"}),(0,i.jsxs)("div",{className:"input-field",children:[(0,i.jsx)("input",{type:"text",placeholder:"Enter new series",onChange:e=>H(e.target.value)}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault();let s=localStorage.getItem("token");s||D("/");const t=new Headers;t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+s);const a=JSON.stringify({seriesName:E});fetch("http://localhost:8000/api/v1/createSeries",{method:"POST",headers:t,body:a,redirect:"follow"}).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(_((e=>e+1)),B(!1))})).catch((e=>console.error(e)))},children:"Add"})]}),(0,i.jsx)(n.l$,{})]})}),L&&(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h3",{children:"Edit Series"})}),(0,i.jsx)("div",{className:"cross-sign",onClick:()=>{P(!1)},children:"  \u2715"}),(0,i.jsxs)("div",{className:"input-field",children:[(0,i.jsx)("input",{defaultValue:v,type:"text",onChange:e=>F(e.target.value)}),(0,i.jsx)("button",{onClick:()=>{console.log("series id -----",J);let e=localStorage.getItem("token");const s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+e);const t={method:"PUT",headers:s,body:JSON.stringify({updatedSeries:$}),redirect:"follow"};fetch("http://localhost:8000/api/v1/updateSeries?updateSeriesId=".concat(J),t).then((e=>e.json())).then((e=>{console.log(e),"success"===e.type&&(console.log("here--",e),_((e=>e+1)),P(!1))})).catch((e=>console.error(e)))},children:"Add"})]}),(0,i.jsx)(n.l$,{})]})}),C&&(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h3",{children:"Update language"})}),(0,i.jsx)("div",{className:"cross-sign",onClick:()=>{w(!1),r(!0)},children:"  \u2715"}),(0,i.jsxs)("div",{className:"input-field",children:[(0,i.jsx)("input",{defaultValue:I,type:"text",placeholder:"language",onChange:e=>T(e.target.value)}),(0,i.jsx)("button",{onClick:()=>{V||D("/");const e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+V);const s={method:"PUT",headers:e,body:JSON.stringify({language:I}),redirect:"follow"};fetch("http://localhost:8000/api/v1/updateLanguage?languageId=".concat(A),s).then((e=>e.json())).then((e=>{console.log(e),"error"===e.type?n.Ay.error(e.message):(n.Ay.success(e.message),w(!1),k((e=>e+1)))})).catch((e=>console.error(e)))},children:"Add"})]}),(0,i.jsx)(n.l$,{})]})})]})]})}}}]);
//# sourceMappingURL=164.f8ed2647.chunk.js.map